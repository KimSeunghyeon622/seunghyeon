# κµ¬κΈ€ OAuth μ„¤μ • μƒμ„Έ κ°€μ΄λ“

## π“‹ μ „μ²΄ νλ¦„ μ”μ•½

κµ¬κΈ€ λ΅κ·ΈμΈμ„ μ„ν•΄μ„λ” **λ‘ κ°€μ§€** OAuth ν΄λΌμ΄μ–ΈνΈ IDκ°€ ν•„μ”ν•©λ‹λ‹¤:
1. **Android ν΄λΌμ΄μ–ΈνΈ ID** (μ•±μ©)
2. **μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… ν΄λΌμ΄μ–ΈνΈ ID** (Supabase μ—°λ™μ©) β† **μ΄κ² μ¤‘μ”!**

---

## π”§ Step 1: Google Cloud Console μ ‘μ† λ° ν”„λ΅μ νΈ μƒμ„±

1. [Google Cloud Console](https://console.cloud.google.com) μ ‘μ†
2. μƒλ‹¨ ν”„λ΅μ νΈ μ„ νƒ λ“λ΅­λ‹¤μ΄ ν΄λ¦­
3. **μƒ ν”„λ΅μ νΈ** ν΄λ¦­
4. ν”„λ΅μ νΈ μ΄λ¦„ μ…λ ¥: `Save It` (λλ” μ›ν•λ” μ΄λ¦„)
5. **λ§λ“¤κΈ°** ν΄λ¦­
6. ν”„λ΅μ νΈ μƒμ„± μ™„λ£ ν›„, μƒλ‹¨μ—μ„ ν•΄λ‹Ή ν”„λ΅μ νΈ μ„ νƒ

---

## π”§ Step 2: OAuth λ™μ ν™”λ©΄ μ„¤μ • (ν•„μ)

1. μ™Όμ½ λ©”λ‰΄μ—μ„ **API λ° μ„λΉ„μ¤** β†’ **OAuth λ™μ ν™”λ©΄** ν΄λ¦­
2. **μ‚¬μ©μ μ ν•** μ„ νƒ:
   - **μ™Έλ¶€** μ„ νƒ (μΌλ° μ‚¬μ©μμ©)
   - **λ§λ“¤κΈ°** ν΄λ¦­
3. **μ•± μ •λ³΄** μ…λ ¥:
   - **μ•± μ΄λ¦„**: `Save It`
   - **μ‚¬μ©μ μ§€μ› μ΄λ©”μΌ**: λ³ΈμΈ μ΄λ©”μΌ μ„ νƒ
   - **μ•± λ΅κ³ **: (μ„ νƒμ‚¬ν•­, λ‚μ¤‘μ— μ¶”κ°€ κ°€λ¥)
4. **μ•± λ„λ©”μΈ** (μ„ νƒμ‚¬ν•­):
   - κ°λ°μ μ—°λ½μ² μ •λ³΄: λ³ΈμΈ μ΄λ©”μΌ μ…λ ¥
5. **λ²”μ„** (Scopes):
   - κΈ°λ³Έκ°’ κ·Έλ€λ΅ λ‘κΈ° (email, profile, openid)
6. **ν…μ¤νΈ μ‚¬μ©μ** (μ„ νƒμ‚¬ν•­):
   - λ‚μ¤‘μ— μ¶”κ°€ κ°€λ¥
7. **μ €μ¥ ν›„ κ³„μ†** ν΄λ¦­
8. λ‹¤μ λ‹¨κ³„λ“¤λ„ **μ €μ¥ ν›„ κ³„μ†** ν΄λ¦­ν•μ—¬ μ™„λ£

---

## π”§ Step 3: Android ν΄λΌμ΄μ–ΈνΈ ID μƒμ„±

1. μ™Όμ½ λ©”λ‰΄μ—μ„ **API λ° μ„λΉ„μ¤** β†’ **μ‚¬μ©μ μΈμ¦ μ •λ³΄** ν΄λ¦­
2. μƒλ‹¨ **+ μ‚¬μ©μ μΈμ¦ μ •λ³΄ λ§λ“¤κΈ°** ν΄λ¦­
3. **OAuth ν΄λΌμ΄μ–ΈνΈ ID** μ„ νƒ
4. **μ• ν”λ¦¬μΌ€μ΄μ… μ ν•**: **Android** μ„ νƒ
5. **μ΄λ¦„**: `Save It Android` μ…λ ¥
6. **ν¨ν‚¤μ§€ μ΄λ¦„**: `com.saveit.app` μ…λ ¥
7. **SHA-1 μΈμ¦μ„ μ§€λ¬Έ**: `58:11:9B:0D:6C:2C:3C:82:06:B2:57:30:30:07:2A:43:AF:82:31:31` μ…λ ¥
8. **λ§λ“¤κΈ°** ν΄λ¦­
9. **ν΄λΌμ΄μ–ΈνΈ ID** λ³µμ‚¬ (λ‚μ¤‘μ— ν•„μ”ν•  μ μμ)

---

## π”§ Step 4: μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… ν΄λΌμ΄μ–ΈνΈ ID μƒμ„± (Supabaseμ©) β­ μ¤‘μ”!

### 4-1. ν΄λΌμ΄μ–ΈνΈ ID μƒμ„±

1. **μ‚¬μ©μ μΈμ¦ μ •λ³΄** νμ΄μ§€μ—μ„ **+ μ‚¬μ©μ μΈμ¦ μ •λ³΄ λ§λ“¤κΈ°** ν΄λ¦­
2. **OAuth ν΄λΌμ΄μ–ΈνΈ ID** μ„ νƒ
3. **μ• ν”λ¦¬μΌ€μ΄μ… μ ν•**: **μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…** μ„ νƒ
4. **μ΄λ¦„**: `Save It Web` μ…λ ¥

### 4-2. Authorized redirect URIs μ„¤μ • β­ μ—¬κΈ°κ°€ ν•µμ‹¬!

**Authorized redirect URIs**λ€?
- κµ¬κΈ€ λ΅κ·ΈμΈ ν›„ μ‚¬μ©μλ¥Ό **μ–΄λ””λ΅ λλ ¤λ³΄λ‚Όμ§€** μ§€μ •ν•λ” μ£Όμ†μ…λ‹λ‹¤
- Supabaseκ°€ κµ¬κΈ€ λ΅κ·ΈμΈ μ™„λ£ ν›„ μ‚¬μ©μλ¥Ό λ°›μ„ μ£Όμ†λ¥Ό λ“±λ΅ν•΄μ•Ό ν•©λ‹λ‹¤

**μ„¤μ • λ°©λ²•:**
1. **μΉμΈλ λ¦¬λ””λ ‰μ… URI** μ„Ήμ…μ—μ„ **+ URI μ¶”κ°€** ν΄λ¦­ (λλ” λΉ μ…λ ¥λ€ ν΄λ¦­)
2. λ‹¤μ μ£Όμ†λ¥Ό **μ •ν™•ν** μ…λ ¥:
   ```
   https://qycwdncplofgzdrjtklb.supabase.co/auth/v1/callback
   ```
   β οΈ **μ£Όμ**: 
   - `https://` ν¬ν•¨
   - λ§μ§€λ§‰μ— `/` μ—†μ
   - λ€μ†λ¬Έμ μ •ν™•ν μ…λ ¥
3. **λ§λ“¤κΈ°** ν΄λ¦­

### 4-3. Client IDμ™€ Client Secret ν™•μΈ β­ μ—¬κΈ°κ°€ λ‹µ!

**λ§λ“¤κΈ°** ν΄λ¦­ ν›„ λ‚νƒ€λ‚λ” νμ—… μ°½μ—μ„:

```
β… OAuth ν΄λΌμ΄μ–ΈνΈκ°€ μƒμ„±λμ—μµλ‹λ‹¤

ν΄λΌμ΄μ–ΈνΈ ID
123456789-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com

ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ
GOCSPX-abcdefghijklmnopqrstuvwxyz123456
```

**μ΄ λ‘ κ°€μ§€λ¥Ό λ³µμ‚¬ν•μ„Έμ”:**
1. **ν΄λΌμ΄μ–ΈνΈ ID** (Client ID): `123456789-...`λ΅ μ‹μ‘ν•λ” κΈ΄ λ¬Έμμ—΄
2. **ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ** (Client Secret): `GOCSPX-...`λ΅ μ‹μ‘ν•λ” λ¬Έμμ—΄

β οΈ **μ¤‘μ”**: 
- **Client Secretμ€ μ΄ μ°½μ„ λ‹«μΌλ©΄ λ‹¤μ‹ λ³Ό μ μ—†μµλ‹λ‹¤!**
- λ°λ“μ‹ μ§€κΈ λ³µμ‚¬ν•΄μ„ μ•μ „ν• κ³³μ— μ €μ¥ν•μ„Έμ”
- λ‚μ¤‘μ— ν•„μ”ν•λ©΄ **μ¬μƒμ„±**ν•΄μ•Ό ν•©λ‹λ‹¤

### 4-4. Client Secretμ„ λ‚μ¤‘μ— λ‹¤μ‹ λ³΄κ³  μ‹¶λ‹¤λ©΄?

1. **μ‚¬μ©μ μΈμ¦ μ •λ³΄** νμ΄μ§€λ΅ μ΄λ™
2. λ°©κΈ λ§λ“  **μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…** ν΄λΌμ΄μ–ΈνΈ ID ν΄λ¦­ (μ΄λ¦„: `Save It Web`)
3. **ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ** μ„Ήμ…μ—μ„:
   - ν„μ¬ λΉ„λ°€λ²νΈλ” `β—β—β—β—β—β—β—β—`λ΅ κ°€λ ¤μ Έ μμ
   - **μƒ λΉ„λ°€λ²νΈ λ§λ“¤κΈ°** λ²„νΌ ν΄λ¦­ β†’ μƒ λΉ„λ°€λ²νΈ μƒμ„± κ°€λ¥
   - λλ” **λ‹¤μ΄λ΅λ“** λ²„νΌμ΄ μμ„ μ μμ

---

## π”§ Step 5: Supabase μ„¤μ •

1. [Supabase λ€μ‹λ³΄λ“](https://supabase.com/dashboard) μ ‘μ†
2. ν”„λ΅μ νΈ μ„ νƒ (`qycwdncplofgzdrjtklb`)
3. μ™Όμ½ λ©”λ‰΄μ—μ„ **Authentication** ν΄λ¦­
4. **Providers** νƒ­ ν΄λ¦­
5. **Google** μ°Ύμ•„μ„ ν΄λ¦­
6. **Enable Sign in with Google** ν† κΈ€μ„ **ON**μΌλ΅ λ³€κ²½
7. λ‹¤μ μ •λ³΄ μ…λ ¥:
   - **Client ID (for OAuth)**: Step 4-3μ—μ„ λ³µμ‚¬ν• **ν΄λΌμ΄μ–ΈνΈ ID** λ¶™μ—¬λ„£κΈ°
   - **Client Secret (for OAuth)**: Step 4-3μ—μ„ λ³µμ‚¬ν• **ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ** λ¶™μ—¬λ„£κΈ°
8. **Save** ν΄λ¦­

---

## β… μ™„λ£ μ²΄ν¬λ¦¬μ¤νΈ

- [ ] Google Cloud Console ν”„λ΅μ νΈ μƒμ„± μ™„λ£
- [ ] OAuth λ™μ ν™”λ©΄ μ„¤μ • μ™„λ£
- [ ] Android ν΄λΌμ΄μ–ΈνΈ ID μƒμ„± μ™„λ£ (ν¨ν‚¤μ§€ μ΄λ¦„: `com.saveit.app`)
- [ ] μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… ν΄λΌμ΄μ–ΈνΈ ID μƒμ„± μ™„λ£
- [ ] Authorized redirect URI μ¶”κ°€ μ™„λ£ (`https://qycwdncplofgzdrjtklb.supabase.co/auth/v1/callback`)
- [ ] Client IDμ™€ Client Secret λ³µμ‚¬ μ™„λ£
- [ ] Supabaseμ— Client IDμ™€ Client Secret μ…λ ¥ μ™„λ£

---

## π† λ¬Έμ  ν•΄κ²°

### Q: Authorized redirect URIsλ¥Ό μ—¬λ¬ κ° μ¶”κ°€ν•  μ μλ‚μ”?
**A**: λ„¤, μ—¬λ¬ κ° μ¶”κ°€ κ°€λ¥ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄:
- κ°λ°μ©: `http://localhost:3000/auth/callback`
- ν”„λ΅λ•μ…μ©: `https://qycwdncplofgzdrjtklb.supabase.co/auth/v1/callback`

### Q: Client Secretμ„ μƒμ–΄λ²„λ Έμ–΄μ”
**A**: 
1. Google Cloud Console β†’ μ‚¬μ©μ μΈμ¦ μ •λ³΄
2. ν•΄λ‹Ή μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… ν΄λΌμ΄μ–ΈνΈ ID ν΄λ¦­
3. **μƒ λΉ„λ°€λ²νΈ λ§λ“¤κΈ°** ν΄λ¦­ν•μ—¬ μ¬μƒμ„±

### Q: "λ¦¬λ””λ ‰μ… URIκ°€ μΌμΉν•μ§€ μ•μµλ‹λ‹¤" μ¤λ¥
**A**: 
- Supabaseμ μ •ν™•ν• URL ν™•μΈ: `https://qycwdncplofgzdrjtklb.supabase.co/auth/v1/callback`
- Google Cloud Consoleμ— μ…λ ¥ν• URIμ™€ μ •ν™•ν μΌμΉν•λ”μ§€ ν™•μΈ
- λ€μ†λ¬Έμ, μ¬λμ‹(`/`) λ“± μ •ν™•ν μ…λ ¥

---

## π“ λ‹¤μ λ‹¨κ³„

μ„ μ„¤μ •μ΄ μ™„λ£λλ©΄:
1. **Client ID**μ™€ **Client Secret**μ„ μ•λ ¤μ£Όμ„Έμ”
2. μ κ°€ Supabase μ„¤μ •μ„ ν™•μΈν•κ³  μ•± μ½”λ“λ¥Ό κµ¬ν„ν•κ² μµλ‹λ‹¤!
